var businesses = [
{"category": "Food", "coordinates": "48.858093+2.294694", "website": "https://google.com", "address": "Some address 3493898", "id": 0, "Name": "Masala King", "mobilePhone": "617-000-0001", "city": "Boston, MA", "pic": "test.jpg"},
{"category": "Cars", "coordinates": "48.858093+2.294694", "website": "https://google.com", "address": "Some address 3493898", "id": 1, "Name": "Car King", "mobilePhone": "617-000-0002", "city": "Boston, MA", "pic": "test.jpg"},
{"category": "Food", "coordinates": "48.858093+2.294694", "website": "https://google.com", "address": "Some address 3493898", "id": 2, "Name": "Chana Masala King", "mobilePhone": "617-000-0003", "city": "Boston, MA", "pic": "test.jpg"},
{"category": "Food", "coordinates": "48.858093+2.294694", "website": "https://google.com", "address": "Some address 3493898", "id": 3, "Name": "Masala Tailor", "mobilePhone": "617-000-0001", "city": "Boston, MA", "pic": "test.jpg"},
{"category": "Food", "coordinates": "48.858093+2.294694", "website": "https://google.com", "address": "Some address 3493898", "id": 4, "Name": "Masala King", "mobilePhone": "617-000-0001", "city": "Boston, MA", "pic": "test.jpg"},
{"category": "Cars", "coordinates": "48.858093+2.294694", "website": "https://google.com", "address": "Some address 3493898", "id": 5, "Name": "Car King", "mobilePhone": "617-000-0002", "city": "Boston, MA", "pic": "test.jpg"},
{"category": "Food", "coordinates": "48.858093+2.294694", "website": "https://google.com", "address": "Some address 3493898", "id": 6, "Name": "Chana Masala King", "mobilePhone": "617-000-0003", "city": "Boston, MA", "pic": "test.jpg"},
{"category": "Food", "coordinates": "48.858093+2.294694", "website": "https://google.com", "address": "Some address 3493898", "id": 7, "Name": "Masala Tailor", "mobilePhone": "617-000-0001", "city": "Boston, MA", "pic": "test.jpg"},
{"category": "Food", "coordinates": "48.858093+2.294694", "website": "https://google.com", "address": "Some address 3493898", "id": 8, "Name": "Masala King", "mobilePhone": "617-000-0001", "city": "Boston, MA", "pic": "test.jpg"},
{"category": "Cars", "coordinates": "48.858093+2.294694", "website": "https://google.com", "address": "Some address 3493898", "id": 9, "Name": "Car King", "mobilePhone": "617-000-0002", "city": "Boston, MA", "pic": "test.jpg"},
{"category": "Food", "coordinates": "48.858093+2.294694", "website": "https://google.com", "address": "Some address 3493898", "id": 10, "Name": "Chana Masala King", "mobilePhone": "617-000-0003", "city": "Boston, MA", "pic": "test.jpg"},
{"category": "Food", "coordinates": "48.858093+2.294694", "website": "https://google.com", "address": "Some address 3493898", "id": 11, "Name": "Masala Tailor", "mobilePhone": "617-000-0001", "city": "Boston, MA", "pic": "test.jpg"},
{"category": "Food", "coordinates": "48.858093+2.294694", "website": "https://google.com", "address": "Some address 3493898", "id": 12, "Name": "Masala King", "mobilePhone": "617-000-0001", "city": "Boston, MA", "pic": "test.jpg"},
{"category": "Cities", "coordinates": "48.858093+2.294694", "website": "https://google.com", "address": "Some address 3493898", "id": 13, "Name": "Car King", "mobilePhone": "617-000-0002", "city": "Boston, MA", "pic": "test.jpg"},
{"category": "Food", "coordinates": "48.858093+2.294694", "website": "https://google.com", "address": "Some address 3493898", "id": 14, "Name": "Chana Masala King", "mobilePhone": "617-000-0003", "city": "Boston, MA", "pic": "test.jpg"},
{"category": "Food", "coordinates": "48.858093+2.294694", "website": "https://google.com", "address": "Some address 3493898", "id": 15, "Name": "Masala Tailor", "mobilePhone": "617-000-0001", "city": "Boston, MA", "pic": "test.jpg"},
{"category": "Food", "coordinates": "48.858093+2.294694", "website": "https://google.com", "address": "Some address 3493898", "id": 16, "Name": "Masala King", "mobilePhone": "617-000-0001", "city": "Boston, MA", "pic": "test.jpg"},
{"category": "Cars", "coordinates": "48.858093+2.294694", "website": "https://google.com", "address": "Some address 3493898", "id": 17, "Name": "Car King", "mobilePhone": "617-000-0002", "city": "Boston, MA", "pic": "test.jpg"},
{"category": "Food", "coordinates": "48.858093+2.294694", "website": "https://google.com", "address": "Some address 3493898", "id": 18, "Name": "Chana Masala King", "mobilePhone": "617-000-0003", "city": "Boston, MA", "pic": "test.jpg"},
{"category": "Food", "coordinates": "48.858093+2.294694", "website": "https://google.com", "address": "Some address 3493898", "id": 19, "Name": "Masala Tailor", "mobilePhone": "617-000-0001", "city": "Boston, MA", "pic": "test.jpg"},
{"category": "Food", "coordinates": "48.858093+2.294694", "website": "https://google.com", "address": "Some address 3493898", "id": 20, "Name": "Masala King", "mobilePhone": "617-000-0001", "city": "Boston, MA", "pic": "test.jpg"},
{"category": "Cars", "coordinates": "48.858093+2.294694", "website": "https://google.com", "address": "Some address 3493898", "id": 21, "Name": "Car King", "mobilePhone": "617-000-0002", "city": "Boston, MA", "pic": "test.jpg"},
{"category": "Food", "coordinates": "48.858093+2.294694", "website": "https://google.com", "address": "Some address 3493898", "id": 22, "Name": "Chana Masala King", "mobilePhone": "617-000-0003", "city": "Boston, MA", "pic": "test.jpg"},
{"category": "Food", "coordinates": "48.858093+2.294694", "website": "https://google.com", "address": "Some address 3493898", "id": 23, "Name": "Masala Tailor", "mobilePhone": "617-000-0001", "city": "Boston, MA", "pic": "test.jpg"}
];



exports.findAll = function (req, res, next) {
   
    var name = req.query.name;
    var category = req.query.category;
  
        res.send(businesses.filter(function(employee) {
            if(employee.category == category) { 

                if(name) {
                    return employee.Name.match(new RegExp(name,'i'));
                   // return (employee.Name).indexOf(name) > -1;
                } else  return true; 
            }
            else return false;

           
        }));

};

exports.findById = function (req, res, next) {
    var id = req.params.id;
    res.send(businesses[id]);
};